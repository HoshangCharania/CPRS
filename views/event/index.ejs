<% var header = '../header'; %>
<%- include(header) %>

<% JSON.stringify(records) %>
<div class="container-fluid mt-3">
<div class="page-header mt-3">
  <div class="row">
    <div class="col-md-10">
      <h1>Events</h1>
    </div>
  </div>
  </div>
  <div class="row mb-3">
      <div class="col-sm-2">
        <div class="btn-group">
            <a class="btn btn-primary btn-md" href="/events/meta/" role="button">Add Metadata</a>
            <a class="btn btn-primary btn-md" href="/events/report/" role="button">Custom Report/Filter</a>
        </div>
    </div>
  </div>
<table id="example" class="table table-striped table-bordered mt-5" cellspacing="20" style="width:100%">
            <thead>
                    <tr>
                      <th class="th-sm">Event Name
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Start Date 
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">End Date
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Event Date
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Application Deadline
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">First Prize Amount
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Second Prize Amount
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Third Prize Amount
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Participant Prize Amount
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Notes
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Judge Details/Response
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Calendar Year
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">First Place Team
                        <i class="fa fa-sort float-right last-column" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Second Place Team
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Third Place Team
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Teams
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Fundings
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm last-column">Actions
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                    </tr>
                  </thead>
    <tbody>
<% for (arr_key in records) { %>
        <tr>
            <td><a href='/events/view/<%= records[arr_key]["id"] %>'><%= records[arr_key]["record"]["Name_Text"] %></a></td>
            <td><%= records[arr_key]["record"]["Start_Date_Text"] %></td>
            <td><%= records[arr_key]["record"]["End_Date_Text"] %></td>
            <td><%= records[arr_key]["record"]["Event_Date_Text"] %></td>
            <td><%= records[arr_key]["record"]["App_Deadline_Text"] %></td>
            <td><%= records[arr_key]["record"]["First_Prize_Text"] %></td>
            <td><%= records[arr_key]["record"]["Second_Prize_Text"] %></td>
            <td><%= records[arr_key]["record"]["Third_Prize_Text"] %></td>
            <td><%= records[arr_key]["record"]["Participant_Prize_Text"] %></td>
            <td><%= records[arr_key]["record"]["Notes_Text"] %></td>
            <td><%= records[arr_key]["record"]["Judge_Text"] %></td>
            <td><%= records[arr_key]["record"]["Calendar_Year_Select"] %></td>
            <td><%- createLinks(records[arr_key]["record"]["First_Place_Link"],records[arr_key]["record"]["First_Place_Name"],"team") %></td>
            <td><%- createLinks(records[arr_key]["record"]["Second_Place_Link"],records[arr_key]["record"]["Second_Place_Name"],"team") %></td>
            <td><%- createLinks(records[arr_key]["record"]["Third_Place_Link"],records[arr_key]["record"]["Third_Place_Name"],"team") %></td>
            <td><%- createLinks(records[arr_key]["record"]["Team_Link"],records[arr_key]["record"]["Team_Name"],"team") %></td>
            <td><%- createLinks(records[arr_key]["record"]["Funding_Link"],records[arr_key]["record"]["Funding_Name"],"team") %></td>
            <!--
                        Amount Received
                        Calendar Year
                        Team/Teams
                        Event/Events
                        Calendar Year
                        FY
                        Budget Request Date
                        Default Funding Date
                        Budget Approval Date
                        Issue Award Letter Date
                        Received Signed Award Date
                        Award Begin Date
                        Award End Date
                        Grant Type

                      -->
            <td>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/events/view/<%= records[arr_key]["id"] %>' role="button">View</a>
                        </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/events/edit/<%= records[arr_key]["id"] %>' role="button">Edit</a>
                </div>
                </div>
            </td>
        </tr>
<% } %>

    </tbody>
</table>
</div>

<script src="/javascripts/datatable.js"></script>
<% var footer = '../footer'; %>
<%- include(footer) %>
