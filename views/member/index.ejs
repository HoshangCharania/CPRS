<% var header = '../header'; %>
<%- include(header) %>

<% JSON.stringify(records) %>
<div class="container-fluid mt-3">
<div class="page-header mt-3">
  <div class="row">
    <div class="col-md-10">
  <h1>Members</h1>
  </div>
  <div class="col-md-2 pull-right">
      <a class="btn btn-primary btn-lg active" href="/members/report/" role="button">Custom Report/Filter</a>
  </div>
  </div>
</div>
<table id="example" class="table table-striped table-bordered mt-5" cellspacing="20" style="width:100%">
            <thead>
                    <tr>
                      <th class="th-sm">Member Name
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Role 
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Team/Teams
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Department
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Events
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Actions
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                    </tr>
                  </thead>
    <tbody>
<% for (arr_key in records) { %>
        <tr>
            <td><a href='/members/view/<%= records[arr_key]["id"] %>'><%= records[arr_key]["record"]["Name_Text"] %></a></td>
            <td><%= records[arr_key]["record"]["Role_Select"] %></td>
            <td><%= records[arr_key]["record"]["Team_Name"] %></td>
            <td><%= records[arr_key]["record"]["Department_Company_Name"] %></td>
            <td><%= records[arr_key]["record"]["Event_Name"] %></td>
            <td>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/members/view/<%= records[arr_key]["id"] %>' role="button">View</a>
                        </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/members/edit/<%= records[arr_key]["id"] %>' role="button">Edit</a>
                </div>
                </div>
            </td>
        </tr>
<% } %>

    </tbody>
</table>
</div>

<script>
$(document).ready(function() {
    $('#example').DataTable({
      dom: 'Bfrtip',
      buttons: [
   {
        extend: 'copy',
        text: 'Copy Table',
        exportOptions: {
            columns: 'th:not(:last-child)'
        }
    },{
        extend: 'csv',
        text: 'Export CSV',
        exportOptions: {
            columns: 'th:not(:last-child)'
        }
    },{
        extend: 'excel',
        text: 'Export Excel',
        exportOptions: {
            columns: 'th:not(:last-child)'
        }
    },{
        extend: 'pdf',
        text: 'Export PDF',
        exportOptions: {
            columns: 'th:not(:last-child)'
        }
    },{
        extend: 'print',
        text: 'Print',
        exportOptions: {
            columns: 'th:not(:last-child)'
        }
    }]
    });
  });

 /* buttons: [
'copy', 'csv', 'excel', 'pdf', 'print'
]*/
</script>
<% var footer = '../footer'; %>
<%- include(footer) %>
