<% var header = '../header'; %>
<%- include(header) %>

<% JSON.stringify(records) %>
<div class="container-fluid mt-3">
<div class="page-header mt-3">
<div class="row">
  <div class="col-md-10">
    <h1>Members</h1>
  </div>
</div>
<div class="row mb-3">
    <div class="col-sm-2">
      <div class="btn-group">
          <a class="btn btn-primary btn-md" href="/members/meta/" role="button">Add Metadata</a>
          <a class="btn btn-primary btn-md" href="/members/report/" role="button">Custom Report/Filter</a>
      </div>
  </div>
</div>
</div>
<table id="example" class="table table-striped table-bordered mt-5" cellspacing="20" style="width:100%">
            <thead>
                    <tr>
                      <th class="th-sm">Member Name
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Role 
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Team/Teams
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Department
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm">Events
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Role Within University
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Gender
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Non White
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Disability
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Veteran
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Non National
                        <i class="fa fa-sort float-right last-column" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm not-visible">Last Served
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                      <th class="th-sm last-column">Actions
                        <i class="fa fa-sort float-right" aria-hidden="true"></i>
                      </th>
                    </tr>
                  </thead>
    <tbody>
<% for (arr_key in records) { %>
        <tr>
            <td><a href='/members/view/<%= records[arr_key]["id"] %>'><%= records[arr_key]["record"]["Name_Text"] %></a></td>
            <td><%= records[arr_key]["record"]["Role_Select"] %></td>
            <td><%- createLinks(records[arr_key]["record"]["Team_Link"],records[arr_key]["record"]["Team_Name"],"team") %></td>
            <td><%= records[arr_key]["record"]["Department_Company_Name"] %></td>
            <td><%= records[arr_key]["record"]["Event_Name"] %></td>
            <td><%= records[arr_key]["record"]["Role_Within_Univ_Select"] %></td>
            <td><%= records[arr_key]["record"]["Gender_Select"] %></td>
            <td><%= records[arr_key]["record"]["Non_White_Select"] %></td>
            <td><%= records[arr_key]["record"]["Disability_Select"] %></td>
            <td><%= records[arr_key]["record"]["Veteran_Select"] %></td>
            <td><%= records[arr_key]["record"]["Non_National_Select"] %></td>
            <td><%= records[arr_key]["record"]["Last_Served"] %></td>
            <td>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/members/view/<%= records[arr_key]["id"] %>' role="button">View</a>
                        </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                <a class="btn btn-primary btn-block" href='/members/edit/<%= records[arr_key]["id"] %>' role="button">Edit</a>
                </div>
                </div>
            </td>
        </tr>
<% } %>

    </tbody>
</table>
</div>

<script src="/javascripts/datatable.js"></script>
<% var footer = '../footer'; %>
<%- include(footer) %>
